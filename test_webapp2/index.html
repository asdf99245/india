<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {
		width: 100%;
		height: 100%;
		background-color: #202020;
}
div {
	    position:absolute;
		height:100%;
		width:100%;
		display: table;
}
div#error {
	color: red;
	font-size: 20px;
}
h1 {
	    display: table-cell;
		vertical-align: middle;
		text-align:center;
		color: #FFFFFF;
}
p {
		color : white;
		font-size : 30px;
}
</style>
	<script src="webOSjs-0.1.0/webOS.js" charset="utf-8"></script>
	<script type="text/javascript">
	   //sample code for calling LS2 API
	var lunaReq= webOS.service.request("luna://com.webos.service.ai.voice",     //get state of voice recognition
	{
		method:"getState",
		parameters:{
			"subscribe": true
		},
		onSuccess: function (args) {
			document.getElementById("title").innerHTML = "State : " + args.state;
		},
		onFailure: function (args) {
			document.getElementById("title").innerHTML = args.errorCode + " " + args.errorText;
		}
	});
	var lunaReq= webOS.service.request("luna://com.webos.service.ai.voice",    //get response of voice recognition
	{
		method:"getResponse",
		parameters:{
			"subscribe" :true
		},
		onSuccess: function (args){
			document.getElementById("response").innerHTML = args.response;
		},
		onFailure: function (args){
			document.getElementById("response").innerHTML = args.errorText;
		}
	})
	function startVr (){                              			//start voice recognition
		var lunaReqStart = webOS.service.request("luna://com.webos.service.ai.voice", 
		{
			method:"start",
			parameters:{
				"mode":"continuous",
				"keywordDetect":true
			},
			onSuccess: function (args){
				document.getElementById("error").innerHTML = "Start succeed"
			},
			onFailure: function (args){
				document.getElementById("error").innerHTML = "Start failed : " + args.errorText;
			}
		})
	}
	function stopVr (){							//stop voice recognition
		var lunaReqStop = webOS.service.request("luna://com.webos.service.ai.voice",
		{
			method:"stop",
			parameters:{},
			onSuccess: function (args){
				document.getElementById("error").innerHTML = "Stop succeed";
			},
			onFailure: function (args){
				document.getElementById("error").innerHTML = "Stop failed : " +args.errorText;
			}
		})
	}
		
	</script>
</head>
<body>
	<div>
		<h1 id="response">response</h1>					<!--showing result of voice recognition -->
	</div>
	<div>
		<input type="button" id="start" value="startButton">		<!-- this is voice recognition start button -->
		<script type="text/javascript">
			var b = document.getElementById("start");
			b.addEventListener('click',startVr);
		</script>
		<input type="button" id="stop" value="stopButton">		<!-- this is voice recognition stop button -->
		<script type="text/javascript">
			var b = document.getElementById("stop");
			b.addEventListener('click',stopVr);
		</script>
		<div id="error"></div>						<!-- show error, when stop or start failed -->
		<p id="state"></p>						<!-- show state of voice recognition on screen -->
		<!-- <h1 id="check">check</h1> -->
	</div>
</body>
</html>
